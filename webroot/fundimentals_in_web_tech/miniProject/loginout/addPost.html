<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>login</title>
    <link rel="stylesheet" href="post.css" type="text/css"/>
</head>
<body>
<form id = "login" method="POST" onsubmit="return preventDefault();" action="http://localhost/miniProject/loginout/postProcess.php" method="post" >
    <div class="inputs">
        <legend class = "loginL title">send out a message? beep boop</legend>
        <p class = "loginL subtitle">Title</p>
        <textarea  name="titleToUpload" style="resize: none" class="uploadmessage validate" rows="1" cols="50"></textarea>
        <p class = "loginL subtitle">Message</p>
        <textarea  name="postToUpload" style="resize: none" class="uploadmessage validate" rows="22" cols="50"></textarea>
        <br>
        <button class = "postText" type="submit">post</button>
        <input type='button' class = "discard" onclick='goBack();' value='discard'/>
    </div>
    <script>
        function goBack(){
            var conF = confirm('are you sure you want to discard message?');
            if (conF){
                window.location.href = 'viewBlog.php';
            }
        }
        function preventDefault() {
            var hasTitle = true;
            var hasContent = true;
            //Reference all INPUT elements in the Table.
            var inputs = document.getElementsByClassName("validate");

            //Loop through all INPUT elements.
            for (var i = 0; i < inputs.length; i++) {
                //Check whether its Value is not BLANK and Validation is required.
                if (Trim(inputs[i].value) == "" && i==0) {
                        //If Validation has FAILED, show error message.
                    hasTitle = false;
                }
                else if (Trim(inputs[i].value) == "" && i==1) {
                    //If Validation has FAILED, show error message.
                    hasContent = false;
                }
            }
            if (hasTitle == false){
                alert("you have to have a title!");
            }
            else if (hasContent == false){
                alert("you have to have a body!");
            }
            return (hasTitle && hasContent);
        }
        function Trim(value) {
            return value.replace(/^\s+|\s+$/g, '');
        };
        </script>
</form>
</body>
</html>
